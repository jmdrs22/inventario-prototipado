<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Agregar / Editar herramienta</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
  <header class="topbar">
    <h1 id="pageTitle">Agregar herramienta</h1>
    <div class="actions">
      <a class="btn" href="index.html">← Volver</a>
    </div>
  </header>

  <main class="container">
    <div id="estado" class="estado"></div>

    <form id="form" class="form">
      <label class="label">Área *</label>
      <select id="area" required>
        <option value="">Selecciona un área</option>
        <option value="Area creativa">Área creativa</option>
        <option value="Area digital">Área digital</option>
        <option value="Granja 3D">Granja 3D</option>
        <option value="Taller">Taller</option>
        <option value="Bodega de herramientas">Bodega de herramientas</option>
      </select>

      <label class="label">Nombre *</label>
      <input id="nombre" required placeholder="Ej. Taladro inalámbrico" />

      <label class="label">Código</label>
      <input id="codigo" placeholder="Ej. H-001" />

      <label class="label">Cantidad *</label>
      <input id="cantidad" type="number" min="1" value="1" required />

      <label class="label">Ubicación</label>
      <input id="ubicacion" placeholder="Ej. Gabinete A, repisa 2" />

      <label class="label">Estado</label>
      <div class="estado-selector">
        <button type="button" class="estado-btn success active" data-estado="bueno">✔ Buen estado</button>
        <button type="button" class="estado-btn warning" data-estado="mantenimiento">⚠ Mantenimiento</button>
        <button type="button" class="estado-btn danger" data-estado="urgente">✖ Urgente</button>
      </div>
      <input type="hidden" id="estadoValor" value="bueno" />

      <label class="label">Imagen de la herramienta</label>
      <div class="file-field">
        <input id="imagen" type="file" accept="image/*" capture="environment" class="file-input" />
        <label for="imagen" class="file-btn">
          <span class="file-btn-title">Subir / Tomar foto</span>
          <span class="file-btn-sub">PNG o JPG</span>
        </label>
        <div id="fileName" class="file-name">Ningún archivo seleccionado</div>
      </div>

      <img id="preview" class="img-preview" alt="Vista previa" style="display:none;" />
      <p class="hint">Si editas: si no eliges imagen, se conserva la anterior.</p>

      <div class="row">
        <button type="submit" id="btnGuardarTool">Guardar</button>
      </div>
    </form>
  </main>

  <script src="agregar.js"></script>
</body>
</html>




